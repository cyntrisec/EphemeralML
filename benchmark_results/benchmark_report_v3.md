# EphemeralML Benchmark Report

**Model:** MiniLM-L6-v2
**Hardware:** m6i.xlarge
**Commit:** 6a0e5f9
**Timestamp:** 1769977102Z
**Iterations:** 100

## Stage Timing

| Stage | Bare Metal | Enclave | Overhead |
|-------|-----------|---------|----------|
| Attestation | N/A | 276.78ms | N/A (enclave-only) |
| KMS Key Release | N/A | 78.87ms | N/A (enclave-only) |
| Model Fetch | 37.06ms | 6602.47ms | +17715.6% |
| Model Decrypt | 111.81ms | 101.27ms | -9.4% |
| Model Load | 43.01ms | 40.20ms | -6.5% |
| Tokenizer Setup | 18.86ms | 25.21ms | +33.7% |
| Cold Start Total | 210.84ms | 7132.33ms | +3282.8% |

## Inference Latency

| Percentile | Bare Metal | Enclave | Overhead |
|-----------|-----------|---------|----------|
| Mean | 81.32ms | 93.08ms | +14.5% |
| P50 | 81.16ms | 92.85ms | +14.4% |
| P95 | 83.12ms | 94.95ms | +14.2% |
| P99 | 83.56ms | 95.29ms | +14.0% |
| Min | 79.63ms | 91.07ms | +14.4% |
| Max | 83.89ms | 95.30ms | +13.6% |
| Throughput | 12.3 inf/s | 10.7 inf/s | -12.7% |

## Memory Usage

| Metric | Bare Metal | Enclave | Overhead |
|--------|-----------|---------|----------|
| Peak RSS | 535.0 MB | 1064.3 MB | +98.9% |
| Model Size | 86.7 MB | 86.7 MB | - |

## VSock Communication (Enclave Only)

| Payload Size | RTT |
|-------------|-----|
| 64 bytes | 0.17ms |
| 1 KB | 0.14ms |
| 64 KB | 0.41ms |
| 1 MB | 4.56ms |
| **Upload Throughput** | **219.4 MB/s** |

## Output Quality Verification

**Reference text:** "What is the capital of France?"
**Embedding dimension:** 384
**Cosine similarity (first 8 dims):** 1.000000

Enclave produces **identical** embeddings to bare metal (cosine sim > 0.9999).

## Summary

- **Inference overhead:** +14.5% (enclave vs bare metal)
- **Memory overhead:** +98.9% peak RSS
- **Attestation cost:** 276.8ms (one-time per session)

---
*Generated by `scripts/benchmark_report.py`*
